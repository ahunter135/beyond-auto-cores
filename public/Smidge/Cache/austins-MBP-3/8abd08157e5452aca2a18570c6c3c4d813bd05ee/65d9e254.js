(function(){"use strict";function serverPickerController($scope,$timeout,localizationService){function check(){return unsubscribe.push($scope.$on("usync-servers-checked",function(e,servers){servers.length===1&&selectServer(servers[0])})),vm.servers.length===1&&selectServer(vm.servers[0]),!0}function selectServer(server){if(server.status!==undefined&&server.status.enabled===!0){for(let s=0;s<vm.servers.length;s++)vm.servers[s].selected=!1;if(server.selected=!0,vm.onSelected)vm.onSelected({server:server})}}function localize(){vm.pickerTitle&&vm.pickerTitle[0]==="@"?localizationService.localize(vm.pickerTitle.substring(1)).then(function(data){vm.titleString=data}):vm.titleString=vm.pickerTitle;vm.description&&vm.description[0]==="@"?localizationService.localize(vm.description.substring(1)).then(function(data){vm.descriptionString=data}):vm.descriptionString=vm.description}var vm=this,unsubscribe;vm.selectServer=selectServer;unsubscribe=[];vm.$onInit=function(){localize();vm.hideBox===undefined&&(vm.hideBox=!1);$timeout(check(),500)};vm.$onDestroy=function(){for(var e in unsubscribe)unsubscribe[e]()}}var serverPickerComponent={templateUrl:Umbraco.Sys.ServerVariables.application.applicationPath+"App_Plugins/uSyncPublisher/components/uSyncServerPicker.html",bindings:{pickerTitle:"@",description:"@",servers:"<",onSelected:"&",hideBox:"<"},controllerAs:"vm",controller:serverPickerController};angular.module("umbraco").component("usyncServerPicker",serverPickerComponent)})()