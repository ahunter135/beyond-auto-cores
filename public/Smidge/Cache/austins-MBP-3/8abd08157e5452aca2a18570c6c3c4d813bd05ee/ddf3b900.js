(function(){"use strict";function publishService($http){function getFlags(options){var flags=0;return options.includeChildren.value&&(flags|=dependencyFlags.includeChildren),options.includeAncestors.value&&(flags|=dependencyFlags.includeAncestors),options.includeDependencies.value&&(flags|=dependencyFlags.includeDependencies),options.includeFiles.value&&(flags|=dependencyFlags.includeFiles),options.includeMedia.value&&(flags|=dependencyFlags.includeMedia),options.includeLinked.value&&(flags|=dependencyFlags.includeLinked),options.includeMediaFiles&&(flags|=dependencyFlags.includeMediaFiles),options.includeConfig?.value&&(flags|=dependencyFlags.includeConfig),flags}function getServers(action){return $http.get(publishService+"GetServers/?action="+action)}function getServer(alias){return $http.get(publishService+"GetServer/?alias="+alias)}function getServerByUrl(url){return $http.get(publishService+"GetServerByUrl/?url="+url)}function checkServer(alias){return $http.get(publishService+"CheckServer/?server="+alias)}function checkServerUrl(url){return $http.get(publishService+"CheckServerUrl/?url="+url)}function getAllServers(){return $http.get(publishService+"GetAllServers/?enabledOnly=false")}function setupServer(alias,url,user,pass){return $http.post(publishService+"setupServer",{server:alias,url:url,username:user,password:pass})}function syncSettings(servers){return $http.post(publishService+"SyncSettings",{servers:servers})}function getPublishers(){return $http.get(publishService+"GetPublishers")}function getMediaFolders(key,server,page){return $http.get(publishService+"GetMediaFolders?id="+key+"&server="+server+"&page="+page)}function getContentFolders(key,server,page){return $http.get(publishService+"GetContentFolders?id="+key+"&server="+server+"&page="+page)}function getLocalContentFolders(key,page){return $http.get(publishService+"GetLocalContentFolders?id="+key+"&page="+page)}function getLocalMediaFolders(key,page){return $http.get(publishService+"GetLocalMediaFolders?id="+key+"&page="+page)}function getContentChanges(ids,server){return $http.post(publishService+"CalculateContentChanges/?server="+server,ids)}function getMediaChanges(ids,server){return $http.post(publishService+"CalculateMediaChanges/?server="+server,ids)}function getContentEntity(key,server){return $http.get(publishService+"GetContentEntity?id="+key+"&server="+server)}function getMediaEntity(key,server){return $http.get(publishService+"GetMediaEntity?id="+key+"&server="+server)}function getSettings(){return $http.get(publishService+"GetSettings")}function saveSettings(settings){return $http.post(publishService+"SaveSettings",settings)}function reloadSettings(){return $http.get(publishService+"ReloadSettings")}function getVersion(){return $http.get(publishService+"GetVersion")}function createKeys(){return $http.get(publishService+"CreateKeys")}function getUserGroups(){return $http.get(publishService+"GetUserGroups")}function saveServer(server){return $http.post(publishService+"SaveServer",server)}function copyServer(alias,name,url){return $http.post(publishService+"CopyServer",{alias:alias,name:name,url:url})}function deleteServer(alias){return $http.delete(publishService+"DeleteServer/?server="+alias)}function setServerOrder(order){return $http.post(publishService+"SetServerOrder",order)}function getDecendentCount(id){return $http.get(publishService+"DecendentCount?id="+id)}function getTemplates(){return $http.get(publishService+"GetTemplates")}function hasContentOrMedia(checkEnabled){return $http.get(publishService+"HasContentOrMedia?checkEnabled="+checkEnabled)}var publishService=Umbraco.Sys.ServerVariables.uSyncPublisher.publishService,dependencyFlags={none:0,includeChildren:2,includeAncestors:4,includeDependencies:8,includeFiles:16,includeMedia:32,includeLinked:64,includeMediaFiles:128,includeConfig:256};return{getServers:getServers,getServer:getServer,getServerByUrl:getServerByUrl,getAllServers:getAllServers,checkServer:checkServer,checkServerUrl:checkServerUrl,getPublishers:getPublishers,saveServer:saveServer,deleteServer:deleteServer,setupServer:setupServer,syncSettings:syncSettings,copyServer:copyServer,getMediaFolders:getMediaFolders,getContentFolders:getContentFolders,getLocalContentFolders:getLocalContentFolders,getLocalMediaFolders:getLocalMediaFolders,getContentChanges:getContentChanges,getMediaChanges:getMediaChanges,getContentEntity:getContentEntity,getMediaEntity:getMediaEntity,getSettings:getSettings,saveSettings:saveSettings,reloadSettings:reloadSettings,getVersion:getVersion,createKeys:createKeys,getUserGroups:getUserGroups,setServerOrder:setServerOrder,getDecendentCount:getDecendentCount,getFlags:getFlags,getTemplates:getTemplates,hasContentOrMedia:hasContentOrMedia}}angular.module("umbraco").factory("uSyncPublishService",publishService)})()