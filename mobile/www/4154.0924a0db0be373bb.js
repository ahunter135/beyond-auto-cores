"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4154],{4154:(A,u,g)=>{g.r(u),g.d(u,{SettingsPageModule:()=>b});var f=g(6895),s=g(4719),a=g(2478),d=g(1065),r=g(5861);const p=(0,g(7423).fo)("Share",{web:()=>g.e(7907).then(g.bind(g,7907)).then(n=>new n.ShareWeb)});var t=g(7631),h=g(5904),_=g(5005);function Z(n,c){if(1&n&&(t.TgZ(0,"ion-badge",16),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.Oqu(i.unreadCount)}}function S(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"ion-item",10),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.navigate("margin"))}),t._UZ(1,"ion-icon",7),t.TgZ(2,"ion-label",11),t._uU(3,"Margin"),t.qZA()()}}function T(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label",11),t._uU(2),t.qZA(),t.TgZ(3,"ion-toggle",17),t.NdJ("ngModelChange",function(l){t.CHM(i);const o=t.oxw();return t.KtG(o.tier=l)})("ionChange",function(l){t.CHM(i);const o=t.oxw();return t.KtG(o.toggle(l))}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(2),t.hij("Tier (",i.tierPercent,"%)"),t.xp6(1),t.Q6J("ngModel",i.tier)}}function P(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"ion-item",10),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.share())}),t._UZ(1,"ion-icon",7),t.TgZ(2,"ion-label",11),t._uU(3,"Share Affiliate Link"),t.qZA()()}}const v=[{path:"",component:(()=>{class n{constructor(i,e,l,o){this.account=i,this.route=e,this.alertService=l,this.loadingCtrl=o}ngOnInit(){var i=this;return(0,r.Z)(function*(){const e=yield i.loadingCtrl.create({message:"Loading settings ..."});e.present(),i.unreadCount=yield i.alertService.alertUnreadCount(),i.account.currentUserState$.subscribe(function(){var l=(0,r.Z)(function*(o){if(i.name=o?`${o.firstName} ${o.lastName}`:"Beyond Auto Core",i.userProfileImage=o.fileUrl||"https://media.istockphoto.com/vectors/avatar-5-vector-id1131164548?k=20&m=1131164548&s=170667a&w=0&h=VlwTJ3LpA8Pjzk9u8XYgkII0Vrvrb07e67cHALFX_aY=",i.tier=o.tier1UserEnabled,i.tierPercent=o.tier1PercentLevel,i.enabledTier=o.tier1AdminEnabled,i.affiliateLink=o.affiliateLink,i.uuid=o.uuid,i.canMargin=o.canMargin,i.isShowAffiliateShare=o.uuid&&o.affiliateLink&&o.affiliateEnable,!i.affiliateLink&&o.affiliateEnable){const C=yield i.account.affiliate(o.id);i.affiliateLink=C.affiliatelink.link}});return function(o){return l.apply(this,arguments)}}()),e.dismiss()})()}logout(){this.account.logout()}navigate(i){this.route.navigate([i])}toggle(i){var e=this;return(0,r.Z)(function*(){e.tier=i.detail.checked,yield e.account.updateTier({id:e.account.currentUser.id,tier1AdminEnabled:e.account.currentUser.tier1AdminEnabled,tier1UserEnabled:e.tier})})()}share(){var i=this;return(0,r.Z)(function*(){yield p.share({url:i.affiliateLink})})()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(h.B),t.Y36(d.F0),t.Y36(_.c),t.Y36(a.HT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],decls:37,vars:6,consts:[["mode","ios"],["slot","start"],["mode","md"],[1,"ion-justify-content-center",2,"display","flex"],["alt","profile-image",3,"src"],[1,"ion-text-center"],[1,"paragraph-text-14-bold","ion-text-capitalize"],["slot","end","name","chevron-forward-outline"],[1,"paragraph-text-16",3,"click"],["class","notification-badge","type","md","color","danger",4,"ngIf"],[3,"click"],[1,"paragraph-text-16"],[3,"click",4,"ngIf"],[4,"ngIf"],[1,"ion-text-center","ion-margin-top"],[1,"paragraph-text-14-bold",3,"click"],["type","md","color","danger",1,"notification-badge"],["slot","end",3,"ngModel","ngModelChange","ionChange"]],template:function(i,e){1&i&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Settings"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col",3)(10,"ion-avatar"),t._UZ(11,"img",4),t.qZA()()(),t.TgZ(12,"ion-row")(13,"ion-col",5)(14,"ion-label",6),t._uU(15),t.qZA()()()(),t.TgZ(16,"ion-item"),t._UZ(17,"ion-icon",7),t.TgZ(18,"ion-label",8),t.NdJ("click",function(){return e.navigate("notifications")}),t._uU(19,"Notifications "),t.YNc(20,Z,2,1,"ion-badge",9),t.qZA()(),t.TgZ(21,"ion-item",10),t.NdJ("click",function(){return e.navigate("user-profile")}),t._UZ(22,"ion-icon",7),t.TgZ(23,"ion-label",11),t._uU(24,"User Profile"),t.qZA()(),t.YNc(25,S,4,0,"ion-item",12),t.YNc(26,T,4,2,"ion-item",13),t.TgZ(27,"ion-item",10),t.NdJ("click",function(){return e.navigate("change-password")}),t._UZ(28,"ion-icon",7),t.TgZ(29,"ion-label",11),t._uU(30,"Change Password"),t.qZA()(),t.YNc(31,P,4,0,"ion-item",12),t.TgZ(32,"ion-grid")(33,"ion-row")(34,"ion-col",14)(35,"ion-label",15),t.NdJ("click",function(){return e.logout()}),t._uU(36,"Logout"),t.qZA()()()()()),2&i&&(t.xp6(11),t.Q6J("src",e.userProfileImage,t.LSH),t.xp6(4),t.Oqu(e.name),t.xp6(5),t.Q6J("ngIf",e.unreadCount),t.xp6(5),t.Q6J("ngIf",e.canMargin),t.xp6(1),t.Q6J("ngIf",e.enabledTier),t.xp6(5),t.Q6J("ngIf",e.isShowAffiliateShare))},dependencies:[f.O5,s.JJ,s.On,a.BJ,a.oU,a.yp,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.gu,a.Ie,a.Q$,a.Nd,a.wd,a.ho,a.sr,a.w,a.cs],styles:["ion-avatar[_ngcontent-%COMP%]{width:150px;height:150px}.notification-badge[_ngcontent-%COMP%]{position:relative;top:4px;border-radius:50%;width:20px;height:20px;padding:3px 0 0!important;text-align:center}ion-label[_ngcontent-%COMP%]{height:25px!important}ion-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(v),d.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,s.u5,a.Pc,x]}),n})()}}]);