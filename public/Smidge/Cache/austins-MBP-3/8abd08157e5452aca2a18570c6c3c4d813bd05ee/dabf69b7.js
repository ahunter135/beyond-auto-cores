(function(){"use strict";function serverSortController($scope,$rootScope,navigationService,notificationsService,uSyncPublishService){function init(){vm.loading=!0;uSyncPublishService.getAllServers().then(function(result){vm.servers=result.data;vm.loading=!1})}function sort(){}function save(){vm.saveButtonState="busy";var order=[];for(let i=0;i<vm.servers.length;i++)order.push(vm.servers[i].alias);uSyncPublishService.setServerOrder(order).then(function(){navigationService.syncTree({tree:"uSyncPublisher",path:$scope.currentNode.path,forceReload:!0}).then(()=>navigationService.reloadNode($scope.currentNode));$rootScope.$broadcast("usync-publish-server-sort");vm.saveButtonState="success"},function(error){vm.error=error;vm.saveButtonState="error"})}function close(){navigationService.hideDialog()}function fixSortableHelper(e,ui){return ui.children().each(function(){$(this).width($(this).width())}),ui}var vm=this;vm.loading=!0;vm.sortOrder={};vm.servers=[];vm.sortableOptions={distance:10,tolerance:"pointer",opacity:.7,scroll:!0,cursor:"move",helper:fixSortableHelper,update:function(){vm.sortOrder.column="";vm.sortOrder.reverse=!1}};vm.save=save;vm.close=close;vm.sort=sort;init()}angular.module("umbraco").controller("uSyncPublisherServerSortController",serverSortController)})()