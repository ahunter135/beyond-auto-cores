"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1682],{1682:(U,m,d)=>{d.r(m),d.d(m,{ForgotPasswordPageModule:()=>A});var u=d(6895),r=d(4719),s=d(2478),c=d(1065),l=d(5861),g=d(1252),o=d(7631),f=d(5904);function p(e,a){1&e&&(o.TgZ(0,"small"),o._uU(1," Please enter a valid email. "),o.qZA())}function Z(e,a){if(1&e){const t=o.EpF();o.TgZ(0,"div",1)(1,"ion-buttons",2),o._UZ(2,"ion-back-button",3),o.qZA(),o.TgZ(3,"form",4)(4,"div",5)(5,"ion-text",6),o._uU(6,"Forgot"),o.qZA(),o._UZ(7,"br"),o.TgZ(8,"ion-text",6),o._uU(9,"Password ?"),o.qZA()(),o.TgZ(10,"ion-item")(11,"ion-label",7),o._uU(12,"Email"),o.qZA(),o._UZ(13,"ion-input",8),o.qZA(),o.TgZ(14,"div",9)(15,"ion-text",10),o.YNc(16,p,2,0,"small",11),o.qZA()(),o.TgZ(17,"ion-button",12),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.forgotSubmit())}),o._uU(18,"Submit"),o.qZA()()()}if(2&e){const t=o.oxw();o.xp6(3),o.Q6J("formGroup",t.emailForm),o.xp6(13),o.Q6J("ngIf",!t.emailForm.get("email").valid&&(t.emailForm.get("email").dirty||t.emailForm.get("email").touched))}}function v(e,a){1&e&&(o.TgZ(0,"small"),o._uU(1," Please enter code. "),o.qZA())}function P(e,a){if(1&e){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",5)(2,"ion-text",6),o._uU(3,"Check Your Mail"),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"ion-text",13),o._uU(6,"We have sent a code in your email"),o.qZA()(),o.TgZ(7,"form",4)(8,"ion-item")(9,"ion-label",7),o._uU(10,"Code"),o.qZA(),o._UZ(11,"ion-input",14),o.qZA(),o.TgZ(12,"div",9)(13,"ion-text",10),o.YNc(14,v,2,0,"small",11),o.qZA()(),o.TgZ(15,"ion-button",12),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.verifyCode())}),o._uU(16,"Verify Code"),o.qZA()()()}if(2&e){const t=o.oxw();o.xp6(7),o.Q6J("formGroup",t.codeForm),o.xp6(7),o.Q6J("ngIf",!t.codeForm.get("code").valid&&(t.codeForm.get("code").dirty||t.codeForm.get("code").touched))}}function _(e,a){1&e&&(o.TgZ(0,"small"),o._uU(1," Please enter password. "),o.qZA())}function F(e,a){1&e&&(o.TgZ(0,"small"),o._uU(1," Please enter password. "),o.qZA())}function w(e,a){1&e&&(o.TgZ(0,"small"),o._uU(1," Password mismatch."),o.qZA())}function x(e,a){if(1&e){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",5)(2,"ion-text",6),o._uU(3,"Reset Your Password"),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"ion-text",13),o._uU(6,"Enter your new password"),o.qZA()(),o.TgZ(7,"form",4)(8,"ion-item")(9,"ion-label",7),o._uU(10,"New Password"),o.qZA(),o._UZ(11,"ion-input",15),o.qZA(),o.TgZ(12,"div",9)(13,"ion-text",10),o.YNc(14,_,2,0,"small",11),o.qZA()(),o.TgZ(15,"ion-item")(16,"ion-label",7),o._uU(17,"Confirm New Password"),o.qZA(),o._UZ(18,"ion-input",16),o.qZA(),o.TgZ(19,"div",9)(20,"ion-text",10),o.YNc(21,F,2,0,"small",11),o.YNc(22,w,2,0,"small",11),o.qZA()(),o.TgZ(23,"ion-button",12),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.resetPassword())}),o._uU(24,"Reset Password"),o.qZA()()()}if(2&e){const t=o.oxw();o.xp6(7),o.Q6J("formGroup",t.resetForm),o.xp6(7),o.Q6J("ngIf",!t.resetForm.get("password").valid&&(t.resetForm.get("password").dirty||t.resetForm.get("password").touched)),o.xp6(7),o.Q6J("ngIf",!t.passwordMatchError&&!t.resetForm.get("confirm").valid&&(t.resetForm.get("confirm").dirty||t.resetForm.get("confirm").touched)),o.xp6(1),o.Q6J("ngIf",t.passwordMatchError)}}const h=[{path:"",component:(()=>{class e{constructor(t,i,n){this.router=t,this.formBuilder=i,this.accountService=n,this.currentStep=1}get passwordMatchError(){return this.resetForm.getError("mismatch")&&this.resetForm.get("confirm")?.touched}ngOnInit(){this.emailForm=this.formBuilder.group({email:[null,[r.kI.required,r.kI.email]]}),this.codeForm=this.formBuilder.group({code:[null,[r.kI.required,r.kI.maxLength(4)]]}),this.resetForm=this.formBuilder.group({password:["",[r.kI.required]],confirm:["",[r.kI.required]]},{validators:g.d.matchValidator("password","confirm")})}forgotSubmit(){var t=this;return(0,l.Z)(function*(){if(t.emailForm.valid){const{email:i}=t.emailForm.value;(yield t.accountService.validateEmail(i))&&(t.currentStep=2)}})()}verifyCode(){var t=this;return(0,l.Z)(function*(){if(t.codeForm.valid){const{code:i}=t.codeForm.value;(yield t.accountService.validateResetCode(i))&&(t.currentStep=3)}})()}resetPassword(){var t=this;return(0,l.Z)(function*(){if(t.resetForm.valid){const{email:i}=t.emailForm.value,{password:n}=t.resetForm.value;(yield t.accountService.resetPassword({email:i,password:n}))&&(t.currentStep=1,t.router.navigate(["/login"]))}})()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.F0),o.Y36(r.qu),o.Y36(f.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-forgot-password"]],decls:4,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],["slot","start"],["defaultHref","login","mode","md"],[1,"ion-padding-vertical",3,"formGroup"],[1,"ion-padding"],[1,"forgot-password-title"],["position","floating"],["formControlName","email","type","email"],[1,"ion-padding-bottom","ion-margin-bottom"],["color","danger"],[4,"ngIf"],["expand","block","color","dark",1,"ion-margin",3,"click"],[1,"paragraph-text-12"],["formControlName","code","type","number"],["formControlName","password","type","password"],["formControlName","confirm","type","password"]],template:function(t,i){1&t&&(o.TgZ(0,"ion-content"),o.YNc(1,Z,19,2,"div",0),o.YNc(2,P,17,2,"div",0),o.YNc(3,x,25,4,"div",0),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",1===i.currentStep),o.xp6(1),o.Q6J("ngIf",2===i.currentStep),o.xp6(1),o.Q6J("ngIf",3===i.currentStep))},dependencies:[u.O5,r._Y,r.JJ,r.JL,r.sg,r.u,s.oU,s.YG,s.Sm,s.W2,s.pK,s.Ie,s.Q$,s.yW,s.as,s.j9,s.cs],styles:[".container[_ngcontent-%COMP%]{margin-top:40%}.forgot-password-title[_ngcontent-%COMP%]{font-size:24px}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[c.Bz.forChild(h),c.Bz]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.ez,r.u5,r.UX,s.Pc,T]}),e})()}}]);