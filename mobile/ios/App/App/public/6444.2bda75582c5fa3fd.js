"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6444],{3364:(v,c,n)=>{n.d(c,{a:()=>m});var g=n(591),p=n(1737),a=n(4850),d=n(7221),P=n(2868),u=n(7631),t=n(1102);let m=(()=>{class h{constructor(r){this.rest=r,this.isLoadingMore=!1,this.selectPhotoGradeStateSubject=new g.X(null)}get selectedPhotoGrade(){return this.selectPhotoGradeStateSubject.value}set setSelectedPhotoGrade(r){this.selectPhotoGradeStateSubject.next(r)}submitPhotoGrade(r){return this.rest.post({endpoint:"/photogrades",params:{fullNess:r.fullNess,comments:r.notes}},r.formData,!1,!0).pipe((0,a.U)(e=>{const{data:o}=e.body;return o}),(0,d.K)(e=>(0,p._)(e))).toPromise()}photoGradeList(r){return this.rest.get({endpoint:"/photogrades",params:r}).pipe((0,a.U)(e=>{const{data:o,pagination:i}=e.body;return{data:o,pagination:i}}),(0,d.K)(e=>(0,p._)(e))).toPromise()}photoGradeCompletedList(r){return this.rest.get({endpoint:"/photogrades/completed",params:r}).pipe((0,a.U)(e=>{const{data:o,pagination:i}=e.body;return{data:o,pagination:i}}),(0,d.K)(e=>(0,p._)(e))).toPromise()}photoGrade(r){return this.rest.get({endpoint:`/photogrades/${r}`}).pipe((0,a.U)(e=>{const{data:o}=e.body;return o}),(0,d.K)(e=>(0,p._)(e))).toPromise()}photoGradeImgUrl(r){return this.rest.get({endpoint:"/photogrades/presigned-url",params:{fileKey:r}}).pipe((0,a.U)(e=>{const{data:o}=e.body;return o}),(0,d.K)(e=>(0,p._)(e))).toPromise()}nextPhotoGrade(r){return this.isLoadingMore=!0,this.rest.get({endpoint:r,server:"none"}).pipe((0,a.U)(e=>{const{data:o,pagination:i}=e.body;return{data:o,pagination:i}}),(0,P.b)(()=>this.isLoadingMore=!1),(0,d.K)(e=>(0,p._)(e))).toPromise()}deletePhotoGrade(r){return this.rest.delete(`/photogrades/${r}`).pipe((0,a.U)(e=>{const{data:o}=e.body;return o}),(0,d.K)(e=>(0,p._)(e))).toPromise()}}return h.\u0275fac=function(r){return new(r||h)(u.LFG(t.v))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},6444:(v,c,n)=>{n.r(c),n.d(c,{PhotoGradeViewPageModule:()=>e});var g=n(6895),p=n(4719),a=n(2478),d=n(1065),P=n(5861),u=n(5820),t=n(7631),m=n(3364);const G=[{path:"",component:(()=>{class o{constructor(s,l){this.photoGradeService=s,this.modalCtrl=l,this.thumbnail="../../../assets/cm-logo-home.svg"}ngOnInit(){this.photoGrade=this.photoGradeService.selectedPhotoGrade}openViewer(){var s=this;return(0,P.Z)(function*(){s.photoGrade.fileUrl&&(yield s.modalCtrl.create({component:u.t,componentProps:{url:s.photoGrade.fileUrl}})).present()})()}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(m.a),t.Y36(a.IN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-photo-grade-view"]],decls:23,vars:4,consts:[["mode","ios"],["slot","start"],["mode","md"],[1,"ion-text-center"],[1,"ion-padding",3,"src","click"],[1,"ion-padding-start","ion-padding-end"],[1,"paragraph-text-16-bold","ion-padding-vertical"],[1,"paragraph-text-16","mb-20"],[1,"paragraph-text-16-bold"]],template:function(s,l){1&s&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-img",4),t.NdJ("click",function(){return l.openViewer()}),t.qZA(),t.TgZ(8,"ion-grid",5)(9,"ion-row")(10,"ion-col")(11,"ion-text",6),t._uU(12,"Code"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"ion-text",7),t._uU(15),t.qZA()()(),t.TgZ(16,"ion-row")(17,"ion-col")(18,"ion-text",8),t._uU(19,"Notes"),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"ion-text",7),t._uU(22),t.qZA()()()()()),2&s&&(t.xp6(5),t.Oqu(1===l.photoGrade.photoGradeStatus?"Approved":"Rejected"),t.xp6(2),t.Q6J("src",l.photoGrade.fileUrl||l.thumbnail),t.xp6(8),t.Oqu(l.photoGrade.converterName||"No code name"),t.xp6(7),t.Oqu(l.photoGrade.comments||"No notes"))},dependencies:[a.oU,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.Xz,a.Nd,a.yW,a.wd,a.sr,a.cs],styles:["ion-img[_ngcontent-%COMP%]{object-fit:fill}ion-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}"]}),o})()}];let r=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(G),d.Bz]}),o})(),e=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,p.u5,a.Pc,r]}),o})()}}]);