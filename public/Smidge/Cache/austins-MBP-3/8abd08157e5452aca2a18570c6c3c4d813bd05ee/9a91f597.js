(function(){"use strict";function changesController($scope,assetsService){function close(){$scope.model.close&&$scope.model.close()}function getTypeName(typeName){return typeName.substring(typeName.lastIndexOf(".")+1)}function pageTitle(){return vm.item.change+" "+getTypeName(vm.item.itemType)+" "+vm.item.name}function calcDiffs(){vm.item.details!=null&&vm.item.details.forEach(function(detail){let oldValueDiff=detail.oldValue===null?"":detail.oldValue,newValueDiff=detail.newValue===null?"":detail.newValue;detail.oldValueJson instanceof Object&&(oldValueDiff=JSON.stringify(detail.oldValue,null,1));detail.newValueJson instanceof Object&&(newValueDiff=JSON.stringify(detail.newValue,null,1));detail.diff=Diff.diffWords(oldValueDiff,newValueDiff)})}var vm=this,jsdiff;vm.item=$scope.model.item;jsdiff="lib/jsdiff/diff.js";assetsService.loadJs(jsdiff,$scope).then(function(){calcDiffs()});vm.close=close;vm.getTypeName=getTypeName;vm.pageTitle=pageTitle}angular.module("umbraco").controller("uSyncPublisherDetailChangesController",changesController)})()