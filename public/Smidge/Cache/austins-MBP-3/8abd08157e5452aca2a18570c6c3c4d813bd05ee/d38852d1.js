(function(){"use strict";function exportController($scope,navigationService,overlayService){function exportItem(){prepItem(vm.node);vm.options.selection=[vm.node];var overlay={options:vm.options,view:Umbraco.Sys.ServerVariables.uSync.exporterPluginPath+"/exportoverlay.html",title:"Create a sync pack",subtitle:"Create a sync pack of the items you want to export",disableBackdropClick:!0,disableEscKey:!0,submitButtonLabel:"Create",closeButtonLable:"close",submit:function(model){model.create!==null&&model.create!==undefined&&model.create()},close:function(){overlayService.close()}};overlayService.open(overlay)}function exportContainer(){console.log(vm.node);exportItem()}function prepItem(item){item.flags={includeChildren:!1,includeAncestors:!0,includeDependencies:!0};switch(item.nodeType){case"media":case"content":case"container":item.flags.includeChildren=!0;break;case"templates":item.flags.includeFiles=!0;break;case"macros":item.udi="umb://macro/00000000-0000-0000-0000-000000000000"}}function close(){$scope.model&&$scope.model.close?$scope.model.close():navigationService.hideDialog()}var vm=this;vm.hasError=!1;vm.node=$scope.currentNode;vm.exportItem=exportItem;vm.exportContainer=exportContainer;vm.hasChildren=$scope.currentNode.hasChildren;vm.isDocType=$scope.currentNode.nodeType==="documentTypes";vm.isMedia=$scope.currentNode.nodeType==="media";vm.options={includeChildren:!1,includeAncestors:!0,includeDependencies:!0,includeFiles:!1,includeMedia:!1};vm.close=close}angular.module("umbraco").controller("usyncExporterExportController",exportController)})()