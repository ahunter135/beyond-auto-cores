(function(){"use static";function copyServerController($scope,navigationService,treeService,uSyncPublishService){function copy(){vm.busy=!0;uSyncPublishService.copyServer(vm.alias,vm.server.name,vm.server.url).then(function(result){if(vm.busy=!1,result.data){vm.success=!0;var rootNode=treeService.getTreeRoot($scope.currentNode);treeService.loadNodeChildren({node:rootNode})}})}function close(){navigationService.hideDialog()}function urlChange(){vm.showCheck=!1}function nameChange(){vm.server.name!=null&&(vm.server.alias=vm.server.name.toUmbracoAlias())}function isValid(){return vm.server.name!=null&&vm.server.name.length>0&&vm.server.url!=null&&vm.server.url.length>0}var vm=this;vm.busy=!0;vm.copy=copy;vm.close=close;vm.urlChange=urlChange;vm.nameChange=nameChange;vm.isValid=isValid;vm.source=_.clone($scope.currentNode);vm.alias=vm.source.id;vm.server={name:"",url:"",icon:"",placeholder:vm.source.name};uSyncPublishService.getServer(vm.alias).then(function(result){vm.current=result.data;vm.busy=!1})}angular.module("umbraco").controller("usyncpublisherCopyController",copyServerController)})()